{"version":3,"file":"commonHelpers2.js","sources":["../src/js/popular-products.js","../src/js/modalproductcard.js","../src/js/pagination.js","../src/js/products-list.js","../src/js/filters.js","../src/local-storage.js","../src/js/discount-products.js","../src/js/header-scroll.js","../src/main.js"],"sourcesContent":["import { popularProdact } from '../API.js';\nimport { serviceProductInfo } from '../js/modalproductcard.js';\nimport { productsGeneretor } from '../js/products-list.js';\nimport cartIcon from '../img/sptite.svg';\n\nconst ul = document.querySelector('.wrapperPopularProduct');\n\ndocument.addEventListener('DOMContentLoaded', onReload);\nasync function onReload() {\n  try {\n    const markup = await generatePopularCardListMarkup();\n    if (markup === undefined) throw new Error();\n\n    updateCardList(markup);\n  } catch (err) {\n    onError(err);\n  }\n}\n\nfunction renderCards(arr) {\n  return arr\n    .map(\n      ({\n        name,\n        img,\n        category,\n        size,\n        popularity,\n        price,\n        is10PercentOff: discount,\n        _id,\n      }) => {\n        if (category.includes('_')) {\n          category = category.split('_').join(' ');\n        }\n        let cartItems = JSON.parse(localStorage.getItem('cart')) || [];\n        const existingProduct = cartItems.find(item => item._id === _id);\n\n        return `\n  <li data-id='${_id}' class=\"popular__products-items\">\n  <div class=\"img-box\">\n    <img\n      class=\"popular__products-img\"\n      src=\"${img}\"\n      alt=\"${name}\"\n    />\n  </div>\n  <div class=\"info-box\">\n    <h3 class=\"popular__products-name\">${name}</h3>\n    <p class=\"popular__products-text\">\n      Category:\n      <span class=\"js-popular__products-category\">${category}</span>\n    </p>\n    <div class=\"add-ifo-box\">\n      <p class=\"popular__products-text\">\n        Size: <span class=\"js-popular__products-size\">${size}</span>\n      </p>\n      <p class=\"popular__products-text\">\n        Popularity:\n        <span class=\"js-popular__products-popularity\">${popularity}</span>\n      </p>\n    </div>\n  </div>\n  <button class=\"popular__products-button\" ${existingProduct ? 'disabled' : ''}>\n    <svg class=\"popular__products-svg${\n      existingProduct ? 'check' : 'cart'\n    }\" width=\"12\" height=\"12\">\n      <use href=\"${cartIcon}#icon-${existingProduct ? 'check' : 'cart'}\"></use>\n    </svg>\n  </button>\n</li>\n  `;\n      }\n    )\n    .join('');\n}\n\nexport async function generatePopularCardListMarkup() {\n  try {\n    const popularCards = await popularProdact();\n    return renderCards(popularCards);\n  } catch (err) {\n    onError(err);\n  }\n}\n\nexport function updateCardList(markup) {\n  ul.innerHTML = markup;\n}\n\nfunction onError() {\n  console.error('Error:', err);\n  ul.innerHTML = '';\n}\nul.addEventListener('click', handleProductClick);\n\nasync function handleProductClick(event) {\n  const target = event.target;\n  const addToCartButton = target.closest('.popular__products-button');\n\n  if (addToCartButton) {\n    const productCard = addToCartButton.closest('.popular__products-items');\n    const productId = productCard.dataset.id;\n\n    // Отримуємо інформацію про товар для зберігання в localStorage\n    const productInfo = await serviceProductInfo(productId);\n    productInfo.quantity = 1;\n    addToCart(productInfo, addToCartButton);\n    const popularCards = await generatePopularCardListMarkup();\n    updateCardList(popularCards);\n    productsGeneretor();\n  }\n}\n\n// Функція для додавання товару в кошик\nfunction addToCart(productInfo, button) {\n  let cartItems = JSON.parse(localStorage.getItem('cart')) || [];\n  const existingProduct = cartItems.find(item => item._id === productInfo._id);\n\n  if (existingProduct) {\n    // Змінюємо іконку на кнопці\n    const useElement = button.querySelector('.popular__products-svgcart use');\n    const svgElement = button.querySelector('.popular__products-svg');\n    svgElement.classList.replace(\n      'popular__products-svgcart',\n      'popular__products-svgcheck'\n    );\n    useElement.setAttribute('href', `${sprite}#icon-check`);\n    button.setAttribute('disabled', 'disabled');\n  } else {\n    // Якщо товар ще не доданий в кошик, додаємо його та оновлюємо localStorage\n    cartItems.push(productInfo);\n    localStorage.setItem('cart', JSON.stringify(cartItems));\n  }\n  updateHeaderCartText();\n}\nfunction updateHeaderCartText() {\n  const cartItems = JSON.parse(localStorage.getItem('cart')) || [];\n  const headerSpan = document.querySelector('.js-header-span');\n\n  if (headerSpan) {\n    headerSpan.textContent = cartItems.length;\n  }\n}\n","import axios from 'axios';\nimport cartIcon from '../img/sptite.svg';\nimport {\n  generatePopularCardListMarkup,\n  updateCardList,\n} from '../js/popular-products';\nimport { productsGeneretor } from '../js/products-list';\n\n\n\nconst ul = document.querySelector('.wrapperPopularProduct');\nconst body = document.querySelector('body');\nconst ul2 = document.querySelector('.card-discount-prod');\nconst list = document.querySelector('.products-list');\n\n\n\nul.addEventListener('click', handleCardClick);\nlist.addEventListener('click', handleCardProductClick);\nul2.addEventListener('click', handleDiscountCardClick);\n\n\n\nasync function handleCardProductClick(event) {\n  list.removeEventListener('click', handleCardProductClick);\n  ul.removeEventListener('click', handleCardClick);\n  ul2.removeEventListener('click', handleDiscountCardClick);\n  const product = event.target.closest('.productlist-card');\n\n  if (product === null || event.target.closest('.productlist-card-btn')) {\n    list.addEventListener('click', handleCardProductClick);\n    return;\n  }\n  // delete later for button\n\n  const id = product.dataset.id;\n\n  const info = await serviceProductInfo(id);\n\n  body.insertAdjacentHTML('beforeend', createMarkup(info));\n  const button = document.querySelector('.modal-wimdow-add-to-cart-btn');\n  let cartItems = JSON.parse(localStorage.getItem('cart')) || [];\n  const existingProduct = cartItems.find(item => item._id === info._id);\n\n  if (existingProduct) {\n    // Змінюємо іконку на кнопці\n\n    button.style.background = '#6d8434';\n    button.childNodes[0].nodeValue = 'Remove from';\n      button.addEventListener(\"click\", deleteFromCart);\n  }\n\n  handleProductModal();\n}\n\nasync function handleCardClick(event) {\n  list.removeEventListener('click', handleCardProductClick);\n  ul.removeEventListener('click', handleCardClick);\n  ul2.removeEventListener('click', handleDiscountCardClick);\n  const product = event.target.closest('li');\n  if (product === null || event.target.closest('.popular__products-button')) {\n    ul.addEventListener('click', handleCardClick);\n    return;\n  }\n  // delete later for button\n  // delete if click is not li\n  const id = product.dataset.id;\n\n  const info = await serviceProductInfo(id);\n\n  body.insertAdjacentHTML('beforeend', createMarkup(info));\n  const button = document.querySelector('.modal-wimdow-add-to-cart-btn');\n\n  let cartItems = JSON.parse(localStorage.getItem('cart')) || [];\n  const existingProduct = cartItems.find(item => item._id === info._id);\n\n  if (existingProduct) {\n    // Змінюємо іконку на кнопці\n\n    button.style.background = '#6d8434';\n    // button.textContent=\"Added to\";\n    button.childNodes[0].nodeValue = 'Remove from';\n      button.addEventListener(\"click\", deleteFromCart);\n  }\n  handleProductModal();\n}\n\nasync function handleDiscountCardClick(event) {\n  ul2.removeEventListener('click', handleCardClick);\n  list.removeEventListener('click', handleCardProductClick);\n  ul.removeEventListener('click', handleCardClick);\n\n  const product = event.target.closest('li');\n  if (product === null || event.target.closest('.btn-icon-cart')) {\n    ul2.addEventListener('click', handleCardClick);\n    return;\n  }\n  // delete later for button\n  // delete if click is not li\n  const id = product.dataset.id;\n\n  const info = await serviceProductInfo(id);\n\n  body.insertAdjacentHTML('beforeend', createMarkup(info));\n  const button = document.querySelector('.modal-wimdow-add-to-cart-btn');\n\n  let cartItems = JSON.parse(localStorage.getItem('cart')) || [];\n  const existingProduct = cartItems.find(item => item._id === info._id);\n\n  if (existingProduct) {\n    // Змінюємо іконку на кнопці\n\n    button.style.background = '#6d8434';\n    // button.textContent=\"Added to\";\n    button.childNodes[0].nodeValue = 'Remove from';\n      button.addEventListener(\"click\", deleteFromCart);\n  }\n  handleProductModal();\n}\n\nexport async function serviceProductInfo(id) {\n  const BASE_URL = 'https://food-boutique.b.goit.study/api/products/';\n\n  return axios\n    .get(`${BASE_URL}${id}`)\n    .then(resp => {\n      return resp.data;\n    })\n    .catch(error => {\n      throw new Error(error);\n    });\n}\n\nfunction createMarkup(info) {\n  let category_;\n  const { _id, name, category, size, popularity, desc, price, img } = info;\n  if (category.includes('_')) {\n    category_ = category.split('_').join(' ');\n  }\n  return `\n    <div class=\"backdrop\" data-modal>\n  <div class=\"modal-container modal-product\" data-id=\"${_id}\" data-modal\">\n    <svg\n      class=\"modal-product-close-icon\"\n      width=\"22\"\n      height=\"22\"\n      data-modal-close\n    >\n      <use href=\"${cartIcon}#icon-close\"></use>\n    </svg>\n    <div class=\"modal-product-img-text\">\n      <div class=\"modal-product-container-img\">\n        <img\n          class=\"modal-product-img\"\n          src=\"${img}\"\n          alt=\"${name}\"\n          width=\"160\"\n          height=\"160\"\n        />\n      </div>\n      <div class=\"modal-product-text\">\n        <p class=\"modal-product modal-product-name\">${name}</p>\n        <div class=\"modal-container-descs\">\n          <p class=\"modal-product modal-product-desc\">\n            Category:\n            <span class=\"modal-product-desc modal-product-desc-value\"\n              >${category_}</span\n            >\n          </p>\n\n          <p class=\"modal-product modal-product-desc\">\n            Size:\n            <span class=\"modal-product-desc modal-product-desc-value\"\n              >${size}</span\n            >\n          </p>\n\n          <p class=\"modal-product modal-product-desc\">\n            Popularity:\n            <span class=\"modal-product-desc modal-product-desc-value\">${popularity}</span>\n          </p>\n        </div>\n\n        <p class=\"modal-product-description\" style=\"overflow-y:auto; max-height: 200px\">\n         ${desc}\n\n        </p>\n      </div>\n    </div>\n\n    <div class=\"container-cost-button\">\n      <p class=\"modal-product-cost\">$${price}</p>\n      <button class=\"modal-wimdow-add-to-cart-btn\">\n        Add to\n        <svg class=\"modal-product-addtocart\" width=\"18\" height=\"18\">\n          <use href=\"${cartIcon}#icon-cart\"></use>\n        </svg>\n      </button>\n    </div>\n  </div>\n</div>\n    \n    `;\n}\n\n// function handleProductModal() {\n//   const closeModalBtn = document.querySelector('[data-modal-close]');\n//   const modal = document.querySelector('[data-modal]');\n//   const backdrop = document.querySelector('.backdrop');\n//    function toggleModal() {\n//       console.log('!!!!!!!');\n//      modal.remove();\n//       //  modal.parentElement.removeChild(modal);\n//       // document.removeEventListener('keydown', handleKey);\n//       closeModalBtn.removeEventListener('click', toggleModal);\n//     }\n//   closeModalBtn.addEventListener('click', toggleModal);\n//   backdrop.addEventListener('click', handleBackdrop);\n//   function handleBackdrop(event) {\n//     if (event.target !== backdrop) {\n//       return;\n//     }\n//     toggleModal();\n//     backdrop.removeEventListener('click', handleBackdrop);\n//   }\n//   document.addEventListener('keydown', handleKey);\n\n//   function handleKey(event) {\n//     if (event.code === 'Escape') {\n//       toggleModal();\n//             document.removeEventListener('keydown', handleKey);\n//     }\n\n//     ul.addEventListener('click', handleCardClick);\n//     list.addEventListener('click', handleCardProductClick);\n//     // list.addEventListener(\"click\", handleCardPopularClick);\n//   }\n// }\n\n// function showLoader(span) {\n//   span.style.visibility = 'visible';\n// }\n\n// function hideLoader(span) {\n//   span.style.display = 'none';\n// }\n\nfunction handleProductModal() {\n\n    const addToCartButton = document.querySelector('.modal-wimdow-add-to-cart-btn');\n  \n  addToCartButton.addEventListener('click', handleProductClick);\n  const closeModalBtn = document.querySelector('[data-modal-close]');\n  const backdrop = document.querySelector('.backdrop');\n\n  function toggleModal() {\n    const modal = document.querySelector('[data-modal]');\n    if (modal) {\n      modal.remove();\n      closeModalBtn.removeEventListener('click', toggleModal);\n      document.removeEventListener('keydown', handleKey);\n      backdrop.removeEventListener('click', handleBackdrop);\n\n    }\n  }\n\n  function handleBackdrop(event) {\n    if (event.target !== backdrop) {\n      return;\n    }\n    toggleModal();\n    backdrop.removeEventListener('click', handleBackdrop);\n  }\n\n  function handleKey(event) {\n    if (event.code === 'Escape') {\n      toggleModal();\n      document.removeEventListener('keydown', handleKey);\n    }\n  }\n  ul.addEventListener('click', handleCardClick);\n  list.addEventListener('click', handleCardProductClick);\n  ul2.addEventListener('click', handleDiscountCardClick);\n  closeModalBtn.addEventListener('click', toggleModal);\n  backdrop.addEventListener('click', handleBackdrop);\n  document.addEventListener('keydown', handleKey);\n\n  // Prevent attaching multiple listeners to the same modal\n  if (!document.querySelector('[data-modal]')) {\n    body.insertAdjacentHTML('beforeend', createMarkup(info));\n  }\n}\n\nasync function handleProductClick() {\n  console.log(\"!!!!\");\n const addToCartButton = document.querySelector('.modal-wimdow-add-to-cart-btn');\nconsole.log(addToCartButton);\n    const productCard = addToCartButton.closest('.modal-container');\n    const productId = productCard.dataset.id;\n\n    // Отримуємо інформацію про товар для зберігання в localStorage\n    const productInfo = await serviceProductInfo(productId);\n    productInfo.quantity = 1;\n    addToCart(productInfo, addToCartButton);\n    //\n    //\n    //\n    //\n    const popularCards = await generatePopularCardListMarkup();\n    updateCardList(popularCards);\n    productsGeneretor();\n  // }\n}\n\n// Функція для додавання товару в кошик\nfunction addToCart(productInfo, button) {\n  let cartItems = JSON.parse(localStorage.getItem('cart')) || [];\n  const existingProduct = cartItems.find(item => item._id === productInfo._id);\n    button.removeEventListener('click', handleProductClick);  // Remove the previous event listener\n  if (existingProduct) {\n    // Змінюємо іконку на кнопці\n    button.style.background = '#6d8434';\n    button.childNodes[0].nodeValue = 'Remove from';\n  \n  } else {\n    // Якщо товар ще не доданий в кошик, додаємо його та оновлюємо localStorage\n    cartItems.push(productInfo);\n\n    localStorage.setItem('cart', JSON.stringify(cartItems));\n    button.style.background = '#6d8434';\n    button.childNodes[0].nodeValue = 'Remove from';\n\n  }\n\n    button.addEventListener(\"click\",  deleteFromCart);\n  updateHeaderCartText();\n}\nfunction updateHeaderCartText() {\n  const cartItems = JSON.parse(localStorage.getItem('cart')) || [];\n  const headerSpan = document.querySelector('.js-header-span');\n\n  if (headerSpan) {\n    headerSpan.textContent = cartItems.length;\n  }\n}\nasync function deleteFromCart() {\n  console.log(\"-----\");\n  const button = document.querySelector('.modal-wimdow-add-to-cart-btn');\n button.removeEventListener(\"click\", deleteFromCart);\n  const modal = document.querySelector('.modal-product');\n    // button.removeEventListener('click', handleProductClick);\n  console.log(modal);\n  const id = modal.dataset.id;\n  console.log(id);\n   const info = await serviceProductInfo(id);\n  let cartItems = JSON.parse(localStorage.getItem('cart')) || [];\n  const existingProduct = cartItems.find(item => item._id === info._id);\n\n  if (existingProduct) {\n\nconst data= JSON.parse(localStorage.getItem('cart')) || [];\n      const updatedCart = data.filter(item => item._id !== id );\n\n                localStorage.setItem('cart', JSON.stringify(updatedCart));\n  button.childNodes[0].nodeValue = 'Add to';\n    console.log(\"-----\");\n       const popularCards = await generatePopularCardListMarkup();\n    updateCardList(popularCards);\n    productsGeneretor();\n    button.addEventListener('click', handleProductClick);\n  }\n\n\n}\n\n\n\n\n\n\n","import Pagination from 'tui-pagination';\nimport { productsGeneretor } from '../js/products-list';\n\nconst container = document.getElementById('pagination');\nlet visiblePages = 0;\n\nconst screenWidth = window.innerWidth;\nif (screenWidth < 768) {\n  visiblePages = 2;\n} else {\n  visiblePages = 4;\n}\n\nexport function renderPagination(pages, limit, currentPage) {\n  const options = {\n    totalItems: pages.totalPages * limit,\n    itemsPerPage: limit,\n    visiblePages: visiblePages,\n    page: currentPage,\n    centerAlign: false,\n    template: {\n      page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n      currentPage:\n        '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n      moveButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</a>',\n      disabledMoveButton:\n        '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</span>',\n      moreButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-is-disabled tui-{{type}}-is-ellip\">' +\n        '<span class=\"tui-ico-ellip\">...</span>' +\n        '</a>',\n    },\n  };\n  const pagination = new Pagination(container, options);\n  pagination.on('afterMove', event => {\n    const currentPage = event.page;\n\n    const filters = JSON.parse(localStorage.getItem('settings')) || {};\n    filters.page = currentPage;\n    localStorage.setItem('settings', JSON.stringify(filters));\n    productsGeneretor();\n  });\n}\nexport function removePagination() {\n  container.innerHTML = '';\n}\n","import sprite from '../img/sptite.svg';\nimport { fetchData } from '../API.js';\nimport { serviceProductInfo } from '../js/modalproductcard.js';\nimport { renderPagination } from '../js/pagination.js';\nimport {\n  generatePopularCardListMarkup,\n  updateCardList,\n} from '../js/popular-products';\nconst container = document.querySelector('.products-list');\nconst noProducts = document.querySelector('.products-list-none');\nconst pagination = document.querySelector('.pagination-block');\n\nconst defaultParams = {\n  keyword: null,\n  category: null,\n  page: 1,\n  limit: 6,\n};\nwindow.addEventListener('resize', windowChange);\n\nfunction limitChange(obj) {\n  if (window.innerWidth < 768) {\n    obj.limit = 6;\n  } else if (window.innerWidth >= 768 && window.innerWidth < 1440) {\n    obj.limit = 8;\n  } else {\n    obj.limit = 9;\n  }\n  return obj;\n}\n\nexport async function productsGeneretor() {\n  if (localStorage.getItem('settings')) {\n    return await render(JSON.parse(localStorage.getItem('settings')));\n  }\n  return await render(defaultParams);\n}\n\nasync function render(params) {\n  try {\n    params = limitChange(params);\n    const settings = JSON.parse(localStorage.getItem('settings'));\n    settings.limit = params.limit;\n    localStorage.setItem('settings', JSON.stringify(settings));\n\n    const data = await fetchData(params);\n\n    if (data.results.length === 0) {\n      noProducts.classList.remove('hidden');\n      container.classList.add('hidden');\n      pagination.classList.add('hidden');\n    } else {\n      if (container.classList.contains('hidden')) {\n        noProducts.classList.add('hidden');\n        container.classList.remove('hidden');\n        pagination.classList.remove('hidden');\n      }\n      container.innerHTML = createCardMarkup(data.results);\n\n      if (data.totalPages > 1) {\n        if (pagination.classList.contains('hidden')) {\n          pagination.classList.remove('hidden');\n        }\n\n        renderPagination(data, data.perPage, data.page);\n      } else {\n        pagination.classList.add('hidden');\n      }\n    }\n  } catch (error) {\n    console.log(error.message);\n  }\n}\nfunction windowChange() {\n  const settings = JSON.parse(localStorage.getItem('settings'));\n\n  if (\n    (window.innerWidth < 768 && settings.limit === 6) ||\n    (window.innerWidth >= 768 &&\n      window.innerWidth < 1440 &&\n      settings.limit === 8) ||\n    (window.innerWidth >= 1440 && settings.limit === 9)\n  ) {\n    return;\n  } else {\n    productsGeneretor();\n  }\n}\n\nfunction createCardMarkup(arr) {\n  return arr\n    .map(\n      ({\n        name,\n        img,\n        category,\n        size,\n        popularity,\n        price,\n        is10PercentOff: discount,\n        _id,\n      }) => {\n        if (category.includes('_')) {\n          category = category.split('_').join(' ');\n        }\n        let cartItems = JSON.parse(localStorage.getItem('cart')) || [];\n        const existingProduct = cartItems.find(item => item._id === _id);\n\n        return `\n    <div class=\"productlist-card\" data-id=\"${_id}\">\n    <div class=\"productlist-card-img-wrapper\">\n        <img src=\"${img}\" alt=\"${name}\" class=\"productlist-card-img\" width=\"140\">\n    </div>\n    <h3 class=\"productlist-card-header\">${name}</h3>\n    <div class=\"productlist-card-text-wrapper\">\n        <p class=\"productlist-card-text\">\n          Category: <span class=\"productlist-card-text-span\">${category}</span>\n        </p>\n        <p class=\"productlist-card-text\">\n          Size: <span class=\"productlist-card-text-span\">${size}</span>\n        </p>\n        <p class=\"productlist-card-text\">\n          Popularity: <span class=\"productlist-card-text-span\">${popularity}</span>\n        </p>\n    </div>\n\n    <div class=\"productlist-card-bottom\">\n        <span class=\"productlist-card-price\">$${price}</span>\n        <button type=\"button\" class=\"productlist-card-btn\" ${\n          existingProduct ? 'disabled' : ''\n        }>\n            <svg class=\"productlist-card-icon-${\n              existingProduct ? 'check' : 'cart'\n            }\" width=\"18\" height=\"18\">\n                <use href=\"${sprite}#icon-${\n          existingProduct ? 'check' : 'cart'\n        }\"></use>\n            </svg></button>\n    </div>\n    ${\n      discount\n        ? `<svg class=\"productlist-dicount\" width=\"60\" height=\"60\">\n      <use href=\"${sprite}#icon-discount\"></use>\n    </svg>`\n        : ``\n    }\n</div>\n  `;\n      }\n    )\n    .join('');\n}\n\nwindow.addEventListener('load', updateHeaderCartText);\ncontainer.addEventListener('click', handleProductClick);\n\n// Функція для обробки кліку на картці товару\nasync function handleProductClick(event) {\n  const target = event.target;\n  const addToCartButton = target.closest('.productlist-card-btn');\n\n  if (addToCartButton) {\n    const productCard = addToCartButton.closest('.productlist-card');\n    const productId = productCard.dataset.id;\n\n    // Отримуємо інформацію про товар для зберігання в localStorage\n    const productInfo = await serviceProductInfo(productId);\n    productInfo.quantity = 1;\n    addToCart(productInfo, addToCartButton);\n    productsGeneretor();\n    const popularCards = await generatePopularCardListMarkup();\n    updateCardList(popularCards);\n\n  }\n}\n\n// Функція для додавання товару в кошик\nfunction addToCart(productInfo, button) {\n  let cartItems = JSON.parse(localStorage.getItem('cart')) || [];\n  const existingProduct = cartItems.find(item => item._id === productInfo._id);\n\n  if (existingProduct) {\n    // Змінюємо іконку на кнопці\n    const useElement = button.querySelector('.productlist-card-icon-cart use');\n    const svgElement = button.querySelector('.productlist-card-icon-cart');\n    svgElement.classList.replace(\n      'productlist-card-icon-cart',\n      'productlist-card-icon-check'\n    );\n    useElement.setAttribute('href', `${sprite}#icon-check`);\n    button.setAttribute('disabled', 'disabled');\n  } else {\n    // Якщо товар ще не доданий в кошик, додаємо його та оновлюємо localStorage\n    cartItems.push(productInfo);\n    localStorage.setItem('cart', JSON.stringify(cartItems));\n  }\n  updateHeaderCartText();\n}\nfunction updateHeaderCartText() {\n  const cartItems = JSON.parse(localStorage.getItem('cart')) || [];\n  const headerSpan = document.querySelector('.js-header-span');\n  if (headerSpan) {\n    headerSpan.textContent = cartItems.length;\n  }\n}\n","import SlimSelect from 'slim-select';\nimport '../../node_modules/slim-select/dist/slimselect.css';\nimport { fetchCategories } from '../API';\nimport { productsGeneretor } from './products-list';\n\nconst searchForm = document.querySelector('.filters-form');\nconst searchInput = document.querySelector('.filters-form-input');\nconst categorySelect = document.querySelector('.filters-form-select-category');\n\nconst createCategoryMarkup = arrey => {\n  return arrey\n    .map(\n      category =>\n        `<option value=\"${category.trim()}\">${category\n          .replace('_', ' ')\n          .replace('_', ' ')}</option>`\n    )\n    .join('');\n};\n\nlet categories = [];\n\nconst renderSelects = async () => {\n  const data = await fetchCategories();\n  categories = [...data, 'Show all'];\n  const markup = createCategoryMarkup(categories);\n  categorySelect.insertAdjacentHTML('beforeend', markup);\n\n  const savedFilters = JSON.parse(localStorage.getItem('settings')) || { keyword: null, category: null };\n  categorySelect.value = savedFilters.category;\n\n  new SlimSelect({\n    select: '#category',\n    settings: {\n      showSearch: false,\n    },\n  });\n};\n\nrenderSelects();\n\nconst onForm = event => {\n  event.preventDefault();\n  let settings = JSON.parse(localStorage.getItem('settings')) || { keyword: null, category: null };\n  const currentValue = searchInput.value.trim();\n  const currentCategory = categorySelect.value;\n    settings.keyword = currentValue || null;\n    settings.category = currentCategory === 'Show all' ? null : currentCategory.trim() || null;\n    localStorage.setItem('settings', JSON.stringify(settings));\n  productsGeneretor();\n};\n\nconst onSearchField = event => {\n  if (event.target.value === '') {\n    let settings = JSON.parse(localStorage.getItem('settings')) || { keyword: null, category: null };\n    const currentCategory = categorySelect.value;\n      settings.keyword = null;\n      settings.category = currentCategory === 'Show all' ? null : currentCategory.trim() || null;\n      localStorage.setItem('settings', JSON.stringify(settings));\n    productsGeneretor();\n  }\n};\n\nconst onCategoryField = event => {\n  let settings = JSON.parse(localStorage.getItem('settings')) || { keyword: null, category: null };\n  const currentValue = searchInput.value.trim();\n  const currentCategory = event.target.value;\n    settings.keyword = currentValue || null;\n    settings.category = currentCategory === 'Show all' ? null : currentCategory.trim() || null;\n    settings.page = 1;\n    localStorage.setItem('settings', JSON.stringify(settings));\n  productsGeneretor();\n};\n\nwindow.addEventListener('load', () => {\n  const savedFilters = JSON.parse(localStorage.getItem('settings')) || { keyword: null, category: null};\n  searchInput.value = savedFilters.keyword;\n\n  productsGeneretor(savedFilters);\n\n  searchForm.addEventListener('submit', onForm);\n  searchInput.addEventListener('input', onSearchField);\n  categorySelect.addEventListener('change', onCategoryField);\n});","const basedParameters = {\n  keyword: null,\n  category: null,\n  page: 1,\n  limit: 6,\n};\n\nconst cart = [];\n\nexport function localStorageSettings() {\n  //\n  if (!localStorage.getItem('settings')) {\n    return localStorage.setItem('settings', JSON.stringify(basedParameters));\n  }\n  return;\n}\nexport function localStorageCart() {\n  //\n  if (!localStorage.getItem('cart')) {\n    return localStorage.setItem('cart', JSON.stringify(cart));\n  }\n  return;\n}\n","import svgIcon from '../img/sptite.svg';\nimport { discountProduct } from '../API';\nimport { serviceProductInfo } from '../js/modalproductcard.js';\nconst cardDiscountProd = document.querySelector('.card-discount-prod');\n\nimport { localStorageSettings, localStorageCart } from '../local-storage.js';\nimport '../js/modalproductcard.js';\n\nlocalStorageSettings();\nlocalStorageCart();\n\n//розмітка\nfunction createMarkupDiscountProd(data) {\n  return data\n    .map(({ img, name, price, _id }) => {\n        let cartItems = JSON.parse(localStorage.getItem('cart')) || [];\n  const existingProduct = cartItems.find(item => item._id === _id);\n      return `<li class=\"discount-prod-item slide\" data-id='${_id}'>\n    <div class=\"wrap-img-discount-prod\">\n      <img class=\"discount-img\" src=\"${img}\" alt=\"${name}\">\n    </div>\n    <div class=\"info-discount-prod\">\n      <p class=\"text-discount-prod\">${name}</p>\n      <div class=\"price-discount-prod\">\n        <p class=\"text-discount-prod price-text-disc\">$${price}</p>\n        <button type=\"button\" class=\"btn-icon-cart\" ${existingProduct ? 'disabled' : ''}>\n          <svg class=\"icon-cart-svg${existingProduct ? 'check' : 'cart'}\" width=\"18\" height=\"18\">\n            <use href=\"${svgIcon}#icon-${existingProduct ? 'check' : 'cart'}\"></use>\n          </svg>\n        </button>\n      </div>\n    </div>\n    <div class=\"wrap-discount-svg\">\n      <svg class=\"discount-svg\" width=\"60\" height=\"60\">\n        <use href=\"${svgIcon}#icon-discount\"></use>\n      </svg>\n  </div>\n</li>`;\n    })\n    .join('');\n}\n\n//відмальовка\n\nfunction cardDrawing() {\n  discountProduct()\n    .then(data => {\n      randomPictures(data);\n      cardDiscountProd.innerHTML = createMarkupDiscountProd(data);\n    })\n    .catch(error => console.log(error.message));\n}\n\ncardDrawing();\n\n//випадкові картинки\nfunction randomPictures(data) {\n  let oneCard = Math.floor(Math.random() * data.length);\n  let twoCard = Math.floor(Math.random() * data.length);\n\n  if (oneCard === twoCard) {\n    return;\n  }\n\n  let b = data[twoCard];\n  data[twoCard] = data[oneCard];\n  data[oneCard] = b;\n}\n\nwindow.addEventListener('load', updateHeaderCartText);\ncardDiscountProd.addEventListener('click', handleProductClick);\n\n// Функція для обробки кліку на картці товару\nasync function handleProductClick(event) {\n  const target = event.target;\n  const addToCartButton = target.closest('.btn-icon-cart');\n\n  if (addToCartButton) {\n    const productCard = addToCartButton.closest('.discount-prod-item');\n    const productId = productCard.dataset.id;\n\n    // Отримуємо інформацію про товар для зберігання в localStorage\n    const productInfo = await serviceProductInfo(productId);\n    productInfo.quantity = 1;\n\n    addToCart(productInfo, addToCartButton);\n  }\n  cardDrawing();\n}\n\n// Функція для додавання товару в кошик\nfunction addToCart(productInfo, button) {\n  let cartItems = JSON.parse(localStorage.getItem('cart')) || [];\n  const existingProduct = cartItems.find(item => item._id === productInfo._id);\n  if (existingProduct) {\n    // Змінюємо іконку на кнопці\n    const useElement = button.querySelector('.icon-cart-svgcart use');\n    const svgElement = button.querySelector('.icon-cart-svg');\n    if (svgElement) {\n      svgElement.classList.replace(\n      'icon-cart-svgcart',\n      'icon-cart-svgcheck'\n    );\n    }\n    \n    useElement.setAttribute('href', `${svgIcon}#icon-check`);\n    button.setAttribute('disabled', 'disabled');\n  } else {\n    // Якщо товар ще не доданий в кошик, додаємо його та оновлюємо localStorage\n    cartItems.push(productInfo);\n    localStorage.setItem('cart', JSON.stringify(cartItems));\n  }\n  updateHeaderCartText();\n}\n\nfunction updateHeaderCartText() {\n  const cartItems = JSON.parse(localStorage.getItem('cart')) || [];\n  const headerSpan = document.querySelector('.js-header-span');\n\n  if (headerSpan) {\n    headerSpan.textContent = cartItems.length;\n  }\n}\n","let lastScroll = 0;\nconst defaultOffset = 2;\nconst header = document.querySelector('header');\nconst headerSection = document.querySelector('.header-container');\nconst scrollPosition = () => window.pageYOffset || document.documentElement.scrollTop;\nconst containHide = () => header.classList.contains('hide');\n\nexport function handleHeaderScroll() {\n   window.addEventListener('scroll', () => {\n      if (scrollPosition() > lastScroll && !containHide() && scrollPosition() > defaultOffset) {\n         header.classList.add('hide');\n      } else if (scrollPosition() < lastScroll && containHide()) {\n         header.classList.remove('hide');\n      }\n      if (scrollPosition() > defaultOffset) {\n         headerSection.classList.add('scrolled');\n      } else {\n         headerSection.classList.remove('scrolled');\n      }\n      lastScroll = scrollPosition();\n   });\n}","// Запуск сайту та ініціалізація localStorage\nimport { handleHeaderScroll } from './js/header-scroll.js';\nimport { localStorageSettings, localStorageCart } from './local-storage.js';\nlocalStorageSettings();\nlocalStorageCart();\nhandleHeaderScroll();\n// Відмалювання карток прокутів products-list;\nimport { productsGeneretor } from './js/products-list.js';\nproductsGeneretor();\nimport './js/popular-products.js';\nimport './js/modalproductcard.js';\nimport './js/modalfooter.js';\nimport './js/footer.js';\n"],"names":["ul","onReload","markup","generatePopularCardListMarkup","updateCardList","onError","renderCards","arr","name","img","category","size","popularity","price","discount","_id","existingProduct","item","cartIcon","popularCards","popularProdact","handleProductClick","event","addToCartButton","productId","productInfo","serviceProductInfo","addToCart","productsGeneretor","button","cartItems","useElement","updateHeaderCartText","headerSpan","body","ul2","list","handleCardClick","handleCardProductClick","handleDiscountCardClick","product","id","info","createMarkup","deleteFromCart","handleProductModal","BASE_URL","axios","resp","error","category_","desc","closeModalBtn","backdrop","toggleModal","modal","handleKey","handleBackdrop","updatedCart","container","visiblePages","screenWidth","renderPagination","pages","limit","currentPage","options","Pagination","filters","noProducts","pagination","defaultParams","windowChange","limitChange","obj","render","params","settings","data","fetchData","createCardMarkup","sprite","searchForm","searchInput","categorySelect","createCategoryMarkup","arrey","categories","renderSelects","fetchCategories","savedFilters","SlimSelect","onForm","currentValue","currentCategory","onSearchField","onCategoryField","basedParameters","cart","localStorageSettings","localStorageCart","cardDiscountProd","createMarkupDiscountProd","svgIcon","cardDrawing","discountProduct","randomPictures","oneCard","twoCard","b","svgElement","lastScroll","defaultOffset","header","headerSection","scrollPosition","containHide","handleHeaderScroll"],"mappings":"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"}